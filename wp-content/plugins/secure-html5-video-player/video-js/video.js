(function(e,t){var n=e.document;(function(){var e=false,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.JRClass=function(){};JRClass.extend=function(n){function o(){if(!e&&this.init)this.init.apply(this,arguments)}var r=this.prototype;e=true;var i=new this;e=false;for(var s in n){i[s]=typeof n[s]=="function"&&typeof r[s]=="function"&&t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);this._super=n;return i}}(s,n[s]):n[s]}o.prototype=i;o.constructor=o;o.extend=arguments.callee;return o}})();var r=JRClass.extend({init:function(e,i){if(typeof e=="string"){this.video=n.getElementById(e)}else{this.video=e}this.video.player=this;this.values={};this.elements={};this.options={autoplay:false,preload:true,useBuiltInControls:false,controlsBelow:false,controlsAtStart:false,controlsHiding:true,defaultVolume:.85,playerFallbackOrder:["html5","flash","links"],flashPlayer:"htmlObject",flashPlayerVersion:false};if(typeof r.options=="object"){_V_.merge(this.options,r.options)}if(typeof i=="object"){_V_.merge(this.options,i)}if(this.getPreloadAttribute()!==t){this.options.preload=this.getPreloadAttribute()}if(this.getAutoplayAttribute()!==t){this.options.autoplay=this.getAutoplayAttribute()}this.box=this.video.parentNode;this.linksFallback=this.getLinksFallback();this.hideLinksFallback();this.each(this.options.playerFallbackOrder,function(e){if(this[e+"Supported"]()){this[e+"Init"]();return true}});this.activateElement(this,"player");this.activateElement(this.box,"box")},behaviors:{},newBehavior:function(e,t,n){this.behaviors[e]=t;this.extend(n)},activateElement:function(e,t){if(typeof e=="string"){e=n.getElementById(e)}this.behaviors[t].call(this,e)},errors:[],warnings:[],warning:function(e){this.warnings.push(e);this.log(e)},history:[],log:function(e){if(!e){return}if(typeof e=="string"){e={type:e}}if(e.type){this.history.push(e.type)}if(this.history.length>=50){this.history.shift()}try{console.log(e.type)}catch(t){try{opera.postError(e.type)}catch(t){}}},setLocalStorage:function(e,t){if(!localStorage){return}try{localStorage[e]=t}catch(n){if(n.code==22||n.code==1014){this.warning(r.warnings.localStorageFull)}}},getPreloadAttribute:function(){if(typeof this.video.hasAttribute=="function"&&this.video.hasAttribute("preload")){var e=this.video.getAttribute("preload");if(e===""||e==="true"){return"auto"}if(e==="false"){return"none"}return e}},getAutoplayAttribute:function(){if(typeof this.video.hasAttribute=="function"&&this.video.hasAttribute("autoplay")){var e=this.video.getAttribute("autoplay");if(e==="false"){return false}return true}},bufferedPercent:function(){return this.duration()?this.buffered()[1]/this.duration():0},each:function(e,t){if(!e||e.length===0){return}for(var n=0,r=e.length;n<r;n++){if(t.call(this,e[n],n)){break}}},extend:function(e){for(var t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}}});r.player=r.prototype;r.player.extend({flashSupported:function(){if(!this.flashElement){this.flashElement=this.getFlashElement()}if(this.flashElement&&this.flashPlayerVersionSupported()){return true}else{return false}},flashInit:function(){this.replaceWithFlash();this.element=this.flashElement;this.video.src="";var e=r.flashPlayers[this.options.flashPlayer];this.extend(r.flashPlayers[this.options.flashPlayer].api);e.init.context(this)()},getFlashElement:function(){var e=this.video.children;for(var t=0,n=e.length;t<n;t++){if(e[t].className=="vjs-flash-fallback"){return e[t]}}},replaceWithFlash:function(){if(this.flashElement){this.box.insertBefore(this.flashElement,this.video);this.video.style.display="none"}},flashPlayerVersionSupported:function(){var e=this.options.flashPlayerVersion?this.options.flashPlayerVersion:r.flashPlayers[this.options.flashPlayer].flashPlayerVersion;return r.getFlashVersion()>=e}});r.flashPlayers={};r.flashPlayers.htmlObject={flashPlayerVersion:9,init:function(){return true},api:{width:function(e){if(e!==t){this.element.width=e;this.box.style.width=e+"px";this.triggerResizeListeners();return this}return this.element.width},height:function(e){if(e!==t){this.element.height=e;this.box.style.height=e+"px";this.triggerResizeListeners();return this}return this.element.height}}};r.player.extend({linksSupported:function(){return true},linksInit:function(){this.showLinksFallback();this.element=this.video},getLinksFallback:function(){return this.box.getElementsByTagName("P")[0]},hideLinksFallback:function(){if(this.linksFallback){this.linksFallback.style.display="none"}},showLinksFallback:function(){if(this.linksFallback){this.linksFallback.style.display="block"}}});r.merge=function(e,t,n){for(var r in t){if(t.hasOwnProperty(r)&&(!n||!e.hasOwnProperty(r))){e[r]=t[r]}}return e};r.extend=function(e){this.merge(this,e,true)};r.extend({setupAllWhenReady:function(e){r.options=e;r.DOMReady(r.setup)},DOMReady:function(e){r.addToDOMReady(e)},setup:function(e,t){var i=false,s=[],o;if(!e||e=="All"){e=r.getVideoJSTags()}else if(typeof e!="object"||e.nodeType==1){e=[e];i=true}for(var u=0;u<e.length;u++){if(typeof e[u]=="string"){o=n.getElementById(e[u])}else{o=e[u]}s.push(new r(o,t))}return i?s[0]:s},getVideoJSTags:function(){var e=n.getElementsByTagName("video"),t=[],r;for(var i=0,s=e.length;i<s;i++){r=e[i];if(r.className.indexOf("video-js")!=-1){t.push(r)}}return t},browserSupportsVideo:function(){if(typeof r.videoSupport!="undefined"){return r.videoSupport}r.videoSupport=!!n.createElement("video").canPlayType;return r.videoSupport},getFlashVersion:function(){if(typeof r.flashVersion!="undefined"){return r.flashVersion}var t=0,n;if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]=="object"){n=navigator.plugins["Shockwave Flash"].description;if(n&&!(typeof navigator.mimeTypes!="undefined"&&navigator.mimeTypes["application/x-shockwave-flash"]&&!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)){t=parseInt(n.match(/^.*\s+([^\s]+)\.[^\s]+\s+[^\s]+$/)[1],10)}}else if(typeof e.ActiveXObject!="undefined"){try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(i){t=parseInt(i.GetVariable("$version").match(/^[^\s]+\s(\d+)/)[1],10)}}catch(s){}}r.flashVersion=t;return r.flashVersion},isIE:function(){return!+"1"},isIPad:function(){return navigator.userAgent.match(/iPad/i)!==null},isIPhone:function(){return navigator.userAgent.match(/iPhone/i)!==null},isIOS:function(){return r.isIPhone()||r.isIPad()},iOSVersion:function(){var e=navigator.userAgent.match(/OS (\d+)_/i);if(e&&e[1]){return e[1]}},isAndroid:function(){return navigator.userAgent.match(/Android/i)!==null},androidVersion:function(){var e=navigator.userAgent.match(/Android (\d+)\./i);if(e&&e[1]){return e[1]}},warnings:{videoNotReady:"Video is not ready yet (try playing the video first).",localStorageFull:"Local Storage is Full"}});if(r.isIE()){n.createElement("video")}e.VideoJS=e._V_=r;r.player.extend({html5Supported:function(){if(r.browserSupportsVideo()&&this.canPlaySource()){return true}else{return false}},html5Init:function(){this.element=this.video;this.fixPreloading();this.supportProgressEvents();this.volume(localStorage&&localStorage.volume||this.options.defaultVolume);if(r.isIOS()){this.options.useBuiltInControls=true;this.iOSInterface()}else if(r.isAndroid()){this.options.useBuiltInControls=true;this.androidInterface()}if(!this.options.useBuiltInControls){this.video.controls=false;if(this.options.controlsBelow){_V_.addClass(this.box,"vjs-controls-below")}this.activateElement(this.video,"playToggle");this.buildStylesCheckDiv();this.buildAndActivatePoster();this.buildBigPlayButton();this.buildAndActivateSpinner();this.buildAndActivateControlBar();this.loadInterface();this.getSubtitles()}},canPlaySource:function(){if(this.canPlaySourceResult){return this.canPlaySourceResult}var e=this.video.children;for(var t=0,n=e.length;t<n;t++){if(e[t].tagName.toUpperCase()=="SOURCE"){var r=this.video.canPlayType(e[t].type)||this.canPlayExt(e[t].src);if(r=="probably"||r=="maybe"){this.firstPlayableSource=e[t];this.canPlaySourceResult=true;return true}}}this.canPlaySourceResult=false;return false},canPlayExt:function(e){if(!e){return""}var t=e.match(/\.([^\.]+)$/);if(t&&t[1]){var n=t[1].toLowerCase();if(r.isAndroid()){if(n=="mp4"||n=="m4v"){return"maybe"}}else if(r.isIOS()){if(n=="m3u8"){return"maybe"}}}return""},forceTheSource:function(){this.video.src=this.firstPlayableSource.src;this.video.load()},fixPreloading:function(){if(typeof this.video.hasAttribute=="function"&&this.video.hasAttribute("preload")&&this.video.preload!="none"){this.video.autobuffer=true}else{this.video.autobuffer=false;this.video.preload="none"}},supportProgressEvents:function(e){_V_.addListener(this.video,"progress",this.playerOnVideoProgress.context(this))},playerOnVideoProgress:function(e){this.setBufferedFromProgress(e)},setBufferedFromProgress:function(e){if(e.total>0){var t=e.loaded/e.total*this.duration();if(t>this.values.bufferEnd){this.values.bufferEnd=t}}},iOSInterface:function(){if(r.iOSVersion()<4){this.forceTheSource()}if(r.isIPad()){this.buildAndActivateSpinner()}},androidInterface:function(){this.forceTheSource();_V_.addListener(this.video,"click",function(){this.play()});this.buildBigPlayButton();_V_.addListener(this.bigPlayButton,"click",function(){this.play()}.context(this));this.positionBox();this.showBigPlayButtons()},loadInterface:function(){if(!this.stylesHaveLoaded()){if(!this.positionRetries){this.positionRetries=1}if(this.positionRetries++<100){setTimeout(this.loadInterface.context(this),10);return}}this.hideStylesCheckDiv();this.showPoster();if(this.video.paused!==false){this.showBigPlayButtons()}if(this.options.controlsAtStart){this.showControlBars()}this.positionAll()},buildAndActivateControlBar:function(){this.controls=_V_.createElement("div",{className:"vjs-controls"});this.box.appendChild(this.controls);this.activateElement(this.controls,"controlBar");this.activateElement(this.controls,"mouseOverVideoReporter");this.playControl=_V_.createElement("div",{className:"vjs-play-control",innerHTML:"<span></span>"});this.controls.appendChild(this.playControl);this.activateElement(this.playControl,"playToggle");this.progressControl=_V_.createElement("div",{className:"vjs-progress-control"});this.controls.appendChild(this.progressControl);this.progressHolder=_V_.createElement("div",{className:"vjs-progress-holder"});this.progressControl.appendChild(this.progressHolder);this.activateElement(this.progressHolder,"currentTimeScrubber");this.loadProgressBar=_V_.createElement("div",{className:"vjs-load-progress"});this.progressHolder.appendChild(this.loadProgressBar);this.activateElement(this.loadProgressBar,"loadProgressBar");this.playProgressBar=_V_.createElement("div",{className:"vjs-play-progress"});this.progressHolder.appendChild(this.playProgressBar);this.activateElement(this.playProgressBar,"playProgressBar");this.timeControl=_V_.createElement("div",{className:"vjs-time-control"});this.controls.appendChild(this.timeControl);this.currentTimeDisplay=_V_.createElement("span",{className:"vjs-current-time-display",innerHTML:"00:00"});this.timeControl.appendChild(this.currentTimeDisplay);this.activateElement(this.currentTimeDisplay,"currentTimeDisplay");this.timeSeparator=_V_.createElement("span",{innerHTML:" / "});this.timeControl.appendChild(this.timeSeparator);this.durationDisplay=_V_.createElement("span",{className:"vjs-duration-display",innerHTML:"00:00"});this.timeControl.appendChild(this.durationDisplay);this.activateElement(this.durationDisplay,"durationDisplay");this.volumeControl=_V_.createElement("div",{className:"vjs-volume-control",innerHTML:"<div><span></span><span></span><span></span><span></span><span></span><span></span></div>"});this.controls.appendChild(this.volumeControl);this.activateElement(this.volumeControl,"volumeScrubber");this.volumeDisplay=this.volumeControl.children[0];this.activateElement(this.volumeDisplay,"volumeDisplay");this.fullscreenControl=_V_.createElement("div",{className:"vjs-fullscreen-control",innerHTML:"<div><span></span><span></span><span></span><span></span></div>"});this.controls.appendChild(this.fullscreenControl);this.activateElement(this.fullscreenControl,"fullscreenToggle")},buildAndActivatePoster:function(){this.updatePosterSource();if(this.video.poster){this.poster=n.createElement("img");this.box.appendChild(this.poster);this.poster.src=this.video.poster;this.poster.className="vjs-poster";this.activateElement(this.poster,"poster")}else{this.poster=false}},buildBigPlayButton:function(){this.bigPlayButton=_V_.createElement("div",{className:"vjs-big-play-button",innerHTML:"<span></span>"});this.box.appendChild(this.bigPlayButton);this.activateElement(this.bigPlayButton,"bigPlayButton")},buildAndActivateSpinner:function(){this.spinner=_V_.createElement("div",{className:"vjs-spinner",innerHTML:"<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>"});this.box.appendChild(this.spinner);this.activateElement(this.spinner,"spinner")},buildStylesCheckDiv:function(){this.stylesCheckDiv=_V_.createElement("div",{className:"vjs-styles-check"});this.stylesCheckDiv.style.position="absolute";this.box.appendChild(this.stylesCheckDiv)},hideStylesCheckDiv:function(){this.stylesCheckDiv.style.display="none"},stylesHaveLoaded:function(){if(this.stylesCheckDiv.offsetHeight!=5){return false}else{return true}},positionAll:function(){this.positionBox();this.positionControlBars();this.positionPoster()},positionBox:function(){if(this.videoIsFullScreen){this.box.style.width="";this.element.style.height="";if(this.options.controlsBelow){this.box.style.height="";this.element.style.height=this.box.offsetHeight-this.controls.offsetHeight+"px"}}else{this.box.style.width=this.width()+"px";this.element.style.height=this.height()+"px";if(this.options.controlsBelow){this.element.style.height=""}}},getSubtitles:function(){var e=this.video.getElementsByTagName("TRACK");for(var t=0,n=e.length;t<n;t++){if(e[t].getAttribute("kind")=="subtitles"&&e[t].getAttribute("src")){this.subtitlesSource=e[t].getAttribute("src");this.loadSubtitles();this.buildSubtitles()}}},loadSubtitles:function(){_V_.get(this.subtitlesSource,this.parseSubtitles.context(this))},parseSubtitles:function(e){var t=e.split("\n"),n="",r,i,s;this.subtitles=[];this.currentSubtitle=false;this.lastSubtitleIndex=0;for(var o=0;o<t.length;o++){n=_V_.trim(t[o]);if(n){r={id:n,index:this.subtitles.length};n=_V_.trim(t[++o]);i=n.split(" --> ");r.start=this.parseSubtitleTime(i[0]);r.end=this.parseSubtitleTime(i[1]);s=[];for(var u=o;u<t.length;u++){n=_V_.trim(t[++o]);if(!n){break}s.push(n)}r.text=s.join("<br/>");this.subtitles.push(r)}}},parseSubtitleTime:function(e){var t=e.split(":"),n=0;n+=parseFloat(t[0])*60*60;n+=parseFloat(t[1])*60;var r=t[2].split(/\.|,/);n+=parseFloat(r[0]);ms=parseFloat(r[1]);if(ms){n+=ms/1e3}return n},buildSubtitles:function(){this.subtitlesDisplay=_V_.createElement("div",{className:"vjs-subtitles"});this.box.appendChild(this.subtitlesDisplay);this.activateElement(this.subtitlesDisplay,"subtitlesDisplay")},addVideoListener:function(e,t){_V_.addListener(this.video,e,t.rEvtContext(this))},play:function(){this.video.play();return this},onPlay:function(e){this.addVideoListener("play",e);return this},pause:function(){this.video.pause();return this},onPause:function(e){this.addVideoListener("pause",e);return this},paused:function(){return this.video.paused},currentTime:function(e){if(e!==t){try{this.video.currentTime=e}catch(n){this.warning(r.warnings.videoNotReady)}this.values.currentTime=e;return this}return this.video.currentTime},onCurrentTimeUpdate:function(e){this.currentTimeListeners.push(e)},duration:function(){return this.video.duration},buffered:function(){if(this.values.bufferStart===t){this.values.bufferStart=0;this.values.bufferEnd=0}if(this.video.buffered&&this.video.buffered.length>0){var e=this.video.buffered.end(0);if(e>this.values.bufferEnd){this.values.bufferEnd=e}}return[this.values.bufferStart,this.values.bufferEnd]},volume:function(e){if(e!==t){this.values.volume=Math.max(0,Math.min(1,parseFloat(e)));this.video.volume=this.values.volume;this.setLocalStorage("volume",this.values.volume);return this}if(this.values.volume){return this.values.volume}return this.video.volume},onVolumeChange:function(e){_V_.addListener(this.video,"volumechange",e.rEvtContext(this))},width:function(e){if(e!==t){this.video.width=e;this.box.style.width=e+"px";this.triggerResizeListeners();return this}return this.video.offsetWidth},height:function(e){if(e!==t){this.video.height=e;this.box.style.height=e+"px";this.triggerResizeListeners();return this}return this.video.offsetHeight},supportsFullScreen:function(){if(typeof this.video.webkitEnterFullScreen=="function"){if(!navigator.userAgent.match("Chrome")&&!navigator.userAgent.match("Mac OS X 10.5")){return true}}return false},html5EnterNativeFullScreen:function(){try{this.video.webkitEnterFullScreen()}catch(e){if(e.code==11){this.warning(r.warnings.videoNotReady)}}return this},enterFullScreen:function(){if(this.supportsFullScreen()){this.html5EnterNativeFullScreen()}else{this.enterFullWindow()}},exitFullScreen:function(){if(this.supportsFullScreen()){}else{this.exitFullWindow()}},enterFullWindow:function(){this.videoIsFullScreen=true;this.docOrigOverflow=n.documentElement.style.overflow;_V_.addListener(n,"keydown",this.fullscreenOnEscKey.rEvtContext(this));_V_.addListener(e,"resize",this.fullscreenOnWindowResize.rEvtContext(this));n.documentElement.style.overflow="hidden";_V_.addClass(this.box,"vjs-fullscreen");this.positionAll()},exitFullWindow:function(){this.videoIsFullScreen=false;n.removeEventListener("keydown",this.fullscreenOnEscKey,false);e.removeEventListener("resize",this.fullscreenOnWindowResize,false);n.documentElement.style.overflow=this.docOrigOverflow;_V_.removeClass(this.box,"vjs-fullscreen");this.positionAll()},onError:function(e){this.addVideoListener("error",e);return this},onEnded:function(e){this.addVideoListener("ended",e);return this}});r.player.newBehavior("player",function(e){this.onError(this.playerOnVideoError);this.onPlay(this.playerOnVideoPlay);this.onPlay(this.trackCurrentTime);this.onPause(this.playerOnVideoPause);this.onPause(this.stopTrackingCurrentTime);this.onEnded(this.playerOnVideoEnded);this.trackBuffered();this.onBufferedUpdate(this.isBufferFull)},{playerOnVideoError:function(e){this.log(e);this.log(this.video.error)},playerOnVideoPlay:function(e){this.hasPlayed=true},playerOnVideoPause:function(e){},playerOnVideoEnded:function(e){this.currentTime(0);this.pause()},trackBuffered:function(){this.bufferedInterval=setInterval(this.triggerBufferedListeners.context(this),500)},stopTrackingBuffered:function(){clearInterval(this.bufferedInterval)},bufferedListeners:[],onBufferedUpdate:function(e){this.bufferedListeners.push(e)},triggerBufferedListeners:function(){this.isBufferFull();this.each(this.bufferedListeners,function(e){e.context(this)()})},isBufferFull:function(){if(this.bufferedPercent()==1){this.stopTrackingBuffered()}},trackCurrentTime:function(){if(this.currentTimeInterval){clearInterval(this.currentTimeInterval)}this.currentTimeInterval=setInterval(this.triggerCurrentTimeListeners.context(this),100);this.trackingCurrentTime=true},stopTrackingCurrentTime:function(){clearInterval(this.currentTimeInterval);this.trackingCurrentTime=false},currentTimeListeners:[],triggerCurrentTimeListeners:function(e,t){this.each(this.currentTimeListeners,function(e){e.context(this)(t||this.currentTime())})},resizeListeners:[],onResize:function(e){this.resizeListeners.push(e)},triggerResizeListeners:function(){this.each(this.resizeListeners,function(e){e.context(this)()})}});r.player.newBehavior("mouseOverVideoReporter",function(e){_V_.addListener(e,"mousemove",this.mouseOverVideoReporterOnMouseMove.context(this));_V_.addListener(e,"mouseout",this.mouseOverVideoReporterOnMouseOut.context(this))},{mouseOverVideoReporterOnMouseMove:function(){this.showControlBars();clearInterval(this.mouseMoveTimeout);this.mouseMoveTimeout=setTimeout(this.hideControlBars.context(this),4e3)},mouseOverVideoReporterOnMouseOut:function(e){var t=e.relatedTarget;while(t&&t!==this.box){t=t.parentNode}if(t!==this.box){this.hideControlBars()}}});r.player.newBehavior("box",function(e){this.positionBox();_V_.addClass(e,"vjs-paused");this.activateElement(e,"mouseOverVideoReporter");this.onPlay(this.boxOnVideoPlay);this.onPause(this.boxOnVideoPause)},{boxOnVideoPlay:function(){_V_.removeClass(this.box,"vjs-paused");_V_.addClass(this.box,"vjs-playing")},boxOnVideoPause:function(){_V_.removeClass(this.box,"vjs-playing");_V_.addClass(this.box,"vjs-paused")}});r.player.newBehavior("poster",function(e){this.activateElement(e,"mouseOverVideoReporter");this.activateElement(e,"playButton");this.onPlay(this.hidePoster);this.onEnded(this.showPoster);this.onResize(this.positionPoster)},{showPoster:function(){if(!this.poster){return}this.poster.style.display="block";this.positionPoster()},positionPoster:function(){if(!this.poster||this.poster.style.display=="none"){return}this.poster.style.height=this.height()+"px";this.poster.style.width=this.width()+"px"},hidePoster:function(){if(!this.poster){return}this.poster.style.display="none"},updatePosterSource:function(){if(!this.video.poster){var e=this.video.getElementsByTagName("img");if(e.length>0){this.video.poster=e[0].src}}}});r.player.newBehavior("controlBar",function(e){if(!this.controlBars){this.controlBars=[];this.onResize(this.positionControlBars)}this.controlBars.push(e);_V_.addListener(e,"mousemove",this.onControlBarsMouseMove.context(this));_V_.addListener(e,"mouseout",this.onControlBarsMouseOut.context(this))},{showControlBars:function(){if(!this.options.controlsAtStart&&!this.hasPlayed){return}this.each(this.controlBars,function(e){e.style.display="block"})},positionControlBars:function(){this.updatePlayProgressBars();this.updateLoadProgressBars()},hideControlBars:function(){if(this.options.controlsHiding&&!this.mouseIsOverControls){this.each(this.controlBars,function(e){e.style.display="none"})}},onControlBarsMouseMove:function(){this.mouseIsOverControls=true},onControlBarsMouseOut:function(e){this.mouseIsOverControls=false}});r.player.newBehavior("playToggle",function(e){if(!this.elements.playToggles){this.elements.playToggles=[];this.onPlay(this.playTogglesOnPlay);this.onPause(this.playTogglesOnPause)}this.elements.playToggles.push(e);_V_.addListener(e,"click",this.onPlayToggleClick.context(this))},{onPlayToggleClick:function(e){if(this.paused()){this.play()}else{this.pause()}},playTogglesOnPlay:function(e){this.each(this.elements.playToggles,function(e){_V_.removeClass(e,"vjs-paused");_V_.addClass(e,"vjs-playing")})},playTogglesOnPause:function(e){this.each(this.elements.playToggles,function(e){_V_.removeClass(e,"vjs-playing");_V_.addClass(e,"vjs-paused")})}});r.player.newBehavior("playButton",function(e){_V_.addListener(e,"click",this.onPlayButtonClick.context(this))},{onPlayButtonClick:function(e){this.play()}});r.player.newBehavior("pauseButton",function(e){_V_.addListener(e,"click",this.onPauseButtonClick.context(this))},{onPauseButtonClick:function(e){this.pause()}});r.player.newBehavior("playProgressBar",function(e){if(!this.playProgressBars){this.playProgressBars=[];this.onCurrentTimeUpdate(this.updatePlayProgressBars)}this.playProgressBars.push(e)},{updatePlayProgressBars:function(e){var n=e!==t?e/this.duration():this.currentTime()/this.duration();if(isNaN(n)){n=0}this.each(this.playProgressBars,function(e){if(e.style){e.style.width=_V_.round(n*100,2)+"%"}})}});r.player.newBehavior("loadProgressBar",function(e){if(!this.loadProgressBars){this.loadProgressBars=[]}this.loadProgressBars.push(e);this.onBufferedUpdate(this.updateLoadProgressBars)},{updateLoadProgressBars:function(){this.each(this.loadProgressBars,function(e){if(e.style){e.style.width=_V_.round(this.bufferedPercent()*100,2)+"%"}})}});r.player.newBehavior("currentTimeDisplay",function(e){if(!this.currentTimeDisplays){this.currentTimeDisplays=[];this.onCurrentTimeUpdate(this.updateCurrentTimeDisplays)}this.currentTimeDisplays.push(e)},{updateCurrentTimeDisplays:function(e){if(!this.currentTimeDisplays){return}var t=e?e:this.currentTime();this.each(this.currentTimeDisplays,function(e){e.innerHTML=_V_.formatTime(t)})}});r.player.newBehavior("durationDisplay",function(e){if(!this.durationDisplays){this.durationDisplays=[];this.onCurrentTimeUpdate(this.updateDurationDisplays)}this.durationDisplays.push(e)},{updateDurationDisplays:function(){if(!this.durationDisplays){return}this.each(this.durationDisplays,function(e){if(this.duration()){e.innerHTML=_V_.formatTime(this.duration())}})}});r.player.newBehavior("currentTimeScrubber",function(e){_V_.addListener(e,"mousedown",this.onCurrentTimeScrubberMouseDown.rEvtContext(this))},{onCurrentTimeScrubberMouseDown:function(e,t){e.preventDefault();this.currentScrubber=t;this.stopTrackingCurrentTime();this.videoWasPlaying=!this.paused();this.pause();_V_.blockTextSelection();this.setCurrentTimeWithScrubber(e);_V_.addListener(n,"mousemove",this.onCurrentTimeScrubberMouseMove.rEvtContext(this));_V_.addListener(n,"mouseup",this.onCurrentTimeScrubberMouseUp.rEvtContext(this))},onCurrentTimeScrubberMouseMove:function(e){this.setCurrentTimeWithScrubber(e)},onCurrentTimeScrubberMouseUp:function(e){_V_.unblockTextSelection();n.removeEventListener("mousemove",this.onCurrentTimeScrubberMouseMove,false);n.removeEventListener("mouseup",this.onCurrentTimeScrubberMouseUp,false);if(this.videoWasPlaying){this.play();this.trackCurrentTime()}},setCurrentTimeWithScrubber:function(e){var t=_V_.getRelativePosition(e.pageX,this.currentScrubber);var n=t*this.duration();this.triggerCurrentTimeListeners(0,n);if(n==this.duration()){n=n-.1}this.currentTime(n)}});r.player.newBehavior("volumeDisplay",function(e){if(!this.volumeDisplays){this.volumeDisplays=[];this.onVolumeChange(this.updateVolumeDisplays)}this.volumeDisplays.push(e);this.updateVolumeDisplay(e)},{updateVolumeDisplays:function(){if(!this.volumeDisplays){return}this.each(this.volumeDisplays,function(e){this.updateVolumeDisplay(e)})},updateVolumeDisplay:function(e){var t=Math.ceil(this.volume()*6);this.each(e.children,function(e,n){if(n<t){_V_.addClass(e,"vjs-volume-level-on")}else{_V_.removeClass(e,"vjs-volume-level-on")}})}});r.player.newBehavior("volumeScrubber",function(e){_V_.addListener(e,"mousedown",this.onVolumeScrubberMouseDown.rEvtContext(this))},{onVolumeScrubberMouseDown:function(e,t){_V_.blockTextSelection();this.currentScrubber=t;this.setVolumeWithScrubber(e);_V_.addListener(n,"mousemove",this.onVolumeScrubberMouseMove.rEvtContext(this));_V_.addListener(n,"mouseup",this.onVolumeScrubberMouseUp.rEvtContext(this))},onVolumeScrubberMouseMove:function(e){this.setVolumeWithScrubber(e)},onVolumeScrubberMouseUp:function(e){this.setVolumeWithScrubber(e);_V_.unblockTextSelection();n.removeEventListener("mousemove",this.onVolumeScrubberMouseMove,false);n.removeEventListener("mouseup",this.onVolumeScrubberMouseUp,false)},setVolumeWithScrubber:function(e){var t=_V_.getRelativePosition(e.pageX,this.currentScrubber);this.volume(t)}});r.player.newBehavior("fullscreenToggle",function(e){_V_.addListener(e,"click",this.onFullscreenToggleClick.context(this))},{onFullscreenToggleClick:function(e){if(!this.videoIsFullScreen){this.enterFullScreen()}else{this.exitFullScreen()}},fullscreenOnWindowResize:function(e){this.positionControlBars()},fullscreenOnEscKey:function(e){if(e.keyCode==27){this.exitFullScreen()}}});r.player.newBehavior("bigPlayButton",function(e){if(!this.elements.bigPlayButtons){this.elements.bigPlayButtons=[];this.onPlay(this.bigPlayButtonsOnPlay);this.onEnded(this.bigPlayButtonsOnEnded)}this.elements.bigPlayButtons.push(e);this.activateElement(e,"playButton")},{bigPlayButtonsOnPlay:function(e){this.hideBigPlayButtons()},bigPlayButtonsOnEnded:function(e){this.showBigPlayButtons()},showBigPlayButtons:function(){this.each(this.elements.bigPlayButtons,function(e){e.style.display="block"})},hideBigPlayButtons:function(){this.each(this.elements.bigPlayButtons,function(e){e.style.display="none"})}});r.player.newBehavior("spinner",function(e){if(!this.spinners){this.spinners=[];_V_.addListener(this.video,"loadeddata",this.spinnersOnVideoLoadedData.context(this));_V_.addListener(this.video,"loadstart",this.spinnersOnVideoLoadStart.context(this));_V_.addListener(this.video,"seeking",this.spinnersOnVideoSeeking.context(this));_V_.addListener(this.video,"seeked",this.spinnersOnVideoSeeked.context(this));_V_.addListener(this.video,"canplay",this.spinnersOnVideoCanPlay.context(this));_V_.addListener(this.video,"canplaythrough",this.spinnersOnVideoCanPlayThrough.context(this));_V_.addListener(this.video,"waiting",this.spinnersOnVideoWaiting.context(this));_V_.addListener(this.video,"stalled",this.spinnersOnVideoStalled.context(this));_V_.addListener(this.video,"suspend",this.spinnersOnVideoSuspend.context(this));_V_.addListener(this.video,"playing",this.spinnersOnVideoPlaying.context(this));_V_.addListener(this.video,"timeupdate",this.spinnersOnVideoTimeUpdate.context(this))}this.spinners.push(e)},{showSpinners:function(){this.each(this.spinners,function(e){e.style.display="block"});clearInterval(this.spinnerInterval);this.spinnerInterval=setInterval(this.rotateSpinners.context(this),100)},hideSpinners:function(){this.each(this.spinners,function(e){e.style.display="none"});clearInterval(this.spinnerInterval)},spinnersRotated:0,rotateSpinners:function(){this.each(this.spinners,function(e){e.style.WebkitTransform="scale(0.5) rotate("+this.spinnersRotated+"deg)";e.style.MozTransform="scale(0.5) rotate("+this.spinnersRotated+"deg)"});if(this.spinnersRotated==360){this.spinnersRotated=0}this.spinnersRotated+=45},spinnersOnVideoLoadedData:function(e){this.hideSpinners()},spinnersOnVideoLoadStart:function(e){this.showSpinners()},spinnersOnVideoSeeking:function(e){},spinnersOnVideoSeeked:function(e){},spinnersOnVideoCanPlay:function(e){},spinnersOnVideoCanPlayThrough:function(e){this.hideSpinners()},spinnersOnVideoWaiting:function(e){this.showSpinners()},spinnersOnVideoStalled:function(e){},spinnersOnVideoSuspend:function(e){},spinnersOnVideoPlaying:function(e){this.hideSpinners()},spinnersOnVideoTimeUpdate:function(e){if(this.spinner.style.display=="block"){this.hideSpinners()}}});r.player.newBehavior("subtitlesDisplay",function(e){if(!this.subtitleDisplays){this.subtitleDisplays=[];this.onCurrentTimeUpdate(this.subtitleDisplaysOnVideoTimeUpdate);this.onEnded(function(){this.lastSubtitleIndex=0}.context(this))}this.subtitleDisplays.push(e)},{subtitleDisplaysOnVideoTimeUpdate:function(e){if(this.subtitles){if(!this.currentSubtitle||this.currentSubtitle.start>=e||this.currentSubtitle.end<e){var t=false,n=this.subtitles[this.lastSubtitleIndex].start>e,r=this.lastSubtitleIndex-n?1:0;while(true){if(n){if(r<0||this.subtitles[r].end<e){break}if(this.subtitles[r].start<e){t=r;break}r--}else{if(r>=this.subtitles.length||this.subtitles[r].start>e){break}if(this.subtitles[r].end>e){t=r;break}r++}}if(t!==false){this.currentSubtitle=this.subtitles[t];this.lastSubtitleIndex=t;this.updateSubtitleDisplays(this.currentSubtitle.text)}else if(this.currentSubtitle){this.currentSubtitle=false;this.updateSubtitleDisplays("")}}}},updateSubtitleDisplays:function(e){this.each(this.subtitleDisplays,function(t){t.innerHTML=e})}});r.extend({addClass:function(e,t){if((" "+e.className+" ").indexOf(" "+t+" ")==-1){e.className=e.className===""?t:e.className+" "+t}},removeClass:function(e,t){if(e.className.indexOf(t)==-1){return}var n=e.className.split(/\s+/);n.splice(n.lastIndexOf(t),1);e.className=n.join(" ")},createElement:function(e,t){return this.merge(n.createElement(e),t)},blockTextSelection:function(){n.body.focus();n.onselectstart=function(){return false}},unblockTextSelection:function(){n.onselectstart=function(){return true}},formatTime:function(e){var t=Math.round(e);var n=Math.floor(t/60);n=n>=10?n:"0"+n;t=Math.floor(t%60);t=t>=10?t:"0"+t;return n+":"+t},getRelativePosition:function(e,t){return Math.max(0,Math.min(1,(e-this.findPosX(t))/t.offsetWidth))},findPosX:function(e){var t=e.offsetLeft;while(e=e.offsetParent){t+=e.offsetLeft}return t},getComputedStyleValue:function(t,n){return e.getComputedStyle(t,null).getPropertyValue(n)},round:function(e,t){if(!t){t=0}return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},addListener:function(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}},removeListener:function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}else if(e.attachEvent){e.detachEvent("on"+t,n)}},get:function(e,t){if(typeof XMLHttpRequest=="undefined"){XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw new Error("This browser does not support XMLHttpRequest.")}}var n=new XMLHttpRequest;n.open("GET",e);n.onreadystatechange=function(){if(n.readyState==4&&n.status==200){t(n.responseText)}}.context(this);n.send()},trim:function(e){return e.toString().replace(/^\s+/,"").replace(/\s+$/,"")},bindDOMReady:function(){if(n.readyState==="complete"){return r.onDOMReady()}if(n.addEventListener){n.addEventListener("DOMContentLoaded",r.DOMContentLoaded,false);e.addEventListener("load",r.onDOMReady,false)}else if(n.attachEvent){n.attachEvent("onreadystatechange",r.DOMContentLoaded);e.attachEvent("onload",r.onDOMReady)}},DOMContentLoaded:function(){if(n.addEventListener){n.removeEventListener("DOMContentLoaded",r.DOMContentLoaded,false);r.onDOMReady()}else if(n.attachEvent){if(n.readyState==="complete"){n.detachEvent("onreadystatechange",r.DOMContentLoaded);r.onDOMReady()}}},DOMReadyList:[],addToDOMReady:function(e){if(r.DOMIsReady){e.call(n)}else{r.DOMReadyList.push(e)}},DOMIsReady:false,onDOMReady:function(){if(r.DOMIsReady){return}if(!n.body){return setTimeout(r.onDOMReady,13)}r.DOMIsReady=true;if(r.DOMReadyList){for(var e=0;e<r.DOMReadyList.length;e++){r.DOMReadyList[e].call(n)}r.DOMReadyList=null}}});r.bindDOMReady();Function.prototype.context=function(e){var t=this,n=function(){return t.apply(e,arguments)};return n};Function.prototype.evtContext=function(e){var t=this,n=function(){var n=this;return t.call(e,arguments[0],n)};return n};Function.prototype.rEvtContext=function(e,t){if(this.hasContext===true){return this}if(!t){t=e}for(var n in t){if(t[n]==this){t[n]=this.evtContext(e);t[n].hasContext=true;return t[n]}}return this.evtContext(e)};if(e.jQuery){(function(e){e.fn.VideoJS=function(e){this.each(function(){r.setup(this,e)});return this};e.fn.player=function(){return this[0].player}})(jQuery)}e.VideoJS=e._V_=r})(window)